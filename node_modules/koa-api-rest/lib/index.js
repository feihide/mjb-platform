var generateActions,
  generateApi,
  generateRoutes;

generateRoutes = require('./routes');

generateActions = require('./actions');
generateMysqlActions = require('./mysql_actions');
// var cacheTable = ['dict', 'activity']

exports.generateApi = function(app, model, prefix, memcache, cacheTable) {
  var actions;
  if (prefix == null) {
    prefix = '';
  }
  if (memcache == null) {
    memcache = '';
  }
  if (cacheTable == null) {
    cacheTable = []
  }
  actions = generateActions(model, memcache, cacheTable);
  generateRoutes(app, model.modelName, actions, prefix);
};
exports.generateMysqlApi = function(app, db, model, prefix, memcache, cacheTable) {
  var actions;
  if (prefix == null) {
    prefix = '';
  }
  if (memcache == null) {
    memcache = '';
  }
  if (cacheTable == null) {
    cacheTable = []
  }
  actions = generateMysqlActions(db, model, memcache, cacheTable);
  generateRoutes(app, model, actions, prefix);
};
